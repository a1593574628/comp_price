# 商品比價 App (Comp Price)

這是一個使用 Flutter 開發的商品比價應用程式，旨在幫助使用者快速掃描或輸入商品條碼，查詢並記錄不同通路的價格資訊。

## 功能特色

*   **條碼掃描**: 使用手機相機快速掃描商品條碼。
*   **手動輸入**: 支援手動輸入條碼，方便在無法掃描時使用。
*   **雲端同步**: 整合 Supabase 雲端資料庫，實現跨裝置資料儲存與讀取。
*   **價格記錄**: 
    *   查詢現有商品的歷史價格與店家資訊。
    *   為新商品建立檔案。
    *   為現有商品新增不同店家的價格紀錄。
*   **即時更新**: 新增的價格資訊會即時同步至雲端。

## 使用技術

本專案採用以下關鍵技術與套件：

### 核心框架
*   **Flutter**: Google 開發的跨平台 UI 框架 (Dart 語言)。

### 資料庫與後端
*   **[Supabase](https://supabase.com/)**: 開源的 Firebase 替代方案，提供 PostgreSQL 資料庫服務。
    *   `supabase_flutter`: 用於與 Supabase 進行連線與 CRUD 操作。

### 功能套件
*   **[mobile_scanner](https://pub.dev/packages/mobile_scanner)**: 用於相機條碼掃描功能。
*   **[provider](https://pub.dev/packages/provider)**: 簡易且強大的狀態管理 (State Management)。
*   **[intl](https://pub.dev/packages/intl)**: 用於日期與時間格式化。

## 安裝與執行

1.  **取得程式碼**:
    ```bash
    git clone https://github.com/a1593574628/comp_price.git
    cd comp_price
    ```

2.  **安裝依賴**:
    ```bash
    flutter pub get
    ```

3.  **執行應用程式**:
    請確保已連接實體手機 (Android/iOS) 以測試相機功能。
    ```bash
    flutter run
    ```

## 資料庫設定 (Supabase)

即使您沒有原始的 Supabase 專案權限，您也可以自行建立專案並使用以下 Schema：

```sql
-- 建立商品表
CREATE TABLE products (
  barcode TEXT PRIMARY KEY,
  name TEXT NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- 建立價格表
CREATE TABLE prices (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  barcode TEXT REFERENCES products(barcode) ON DELETE CASCADE,
  store TEXT NOT NULL,
  price NUMERIC NOT NULL,
  date TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```
